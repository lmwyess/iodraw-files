{"root":{"data":{"id":"d01ltmgh7gw0","created":1711245274660,"text":"MYSQL数据库基础篇"},"children":[{"data":{"id":"d01lwzhjpfs0","created":1711245538115,"text":"1.MYSQL概述","layout":null,"priority":1,"expandState":"collapse"},"children":[{"data":{"id":"d01m2p9vpcw0","created":1711245986069,"text":"1.数据库相关概念     ","image":"","imageTitle":"","imageSize":"","expandState":"expand","layout":null},"children":[{"data":{"id":"d01m9xtidvc0","created":1711246553219,"text":"1.数据库:数据存储数据的仓库，数据是有组织的进行存储   简称DataBase(DB)","layout":null},"children":[]},{"data":{"id":"d01mahwln8o0","created":1711246596942,"text":"2.数据库管理系统: 操纵和管理数据库的大型软件   简称：DataBase Management System(DBMS)","layout":null},"children":[{"data":{"id":"d01mbc8euts0","created":1711246662959,"text":"ORACLE","layout":null},"children":[]},{"data":{"id":"d01mbd0bb2o0","created":1711246664647,"text":"MYSQL","layout":null},"children":[]},{"data":{"id":"d01mbdsgo5k0","created":1711246666349,"text":"microsoft SQL Server","layout":null},"children":[]},{"data":{"id":"d01mc799kmw0","created":1711246730491,"text":"PostgreSQL","layout":null},"children":[]}]},{"data":{"id":"d01max92asg0","created":1711246630347,"text":"3.SQL：操作关系型数据库的编程语言，定义了一套操作关系型数据库统一标准   简称：Structured Query Language(SQL)  ","layout":null},"children":[]}]},{"data":{"id":"d01mi8v04e00","created":1711247204167,"text":"2.数据模型","expandState":"expand","layout":null},"children":[{"data":{"id":"d01mj167r0g0","created":1711247265795,"text":"客户端---->DBMS---->数据库---->表","layout":null},"children":[]}]}]},{"data":{"id":"d01ltrbpyso0","created":1711245285256,"text":"2.SQL","layout":null,"priority":2,"expandState":"collapse"},"children":[{"data":{"id":"d01mk2mvz340","created":1711247347344,"text":"1.SQL通用语法","expandState":"collapse","layout":null},"children":[{"data":{"id":"d01mltoel0o0","created":1711247484573,"text":"1.SQL语句可以单行或多行书写，已分号结尾","layout":null},"children":[]},{"data":{"id":"d01mlu5gngg0","created":1711247485605,"text":"2.SQL语句可以使用空格/缩进来增强语句的可读性","layout":null},"children":[]},{"data":{"id":"d01mluy5yj40","created":1711247487340,"text":"3.MySQL数据库的SQL语句不区分大小写，关键字建议使用大写","layout":null},"children":[]},{"data":{"id":"d01mlvjcq1k0","created":1711247488622,"text":"4.注释:\n单行注释:--注释内容 或 #注释内容(MySQL特有)\n多行注释:/*注释内容*/","layout":null},"children":[]}]},{"data":{"id":"d01mk3gw0lc0","created":1711247349158,"text":"2.SQL分类","expandState":"collapse","layout":null},"children":[{"data":{"id":"d01mocadwkw0","created":1711247681813,"text":"1.DDL:Data Definition Language\n数据定义语言，用来定义数据库对象(数据库，表，字段)","color":"black","layout":null},"children":[]},{"data":{"id":"d01mocrhe140","created":1711247682847,"text":"2.DML:Data Manipulation Language\n数据操作语言，用来对数据库表中的数据进行增删改","layout":null},"children":[]},{"data":{"id":"d01modbsly80","created":1711247684075,"text":"3.DQL:Data Query Language\n数据查询语言，用来查询数据库中表的记录","layout":null},"children":[]},{"data":{"id":"d01modu7cjk0","created":1711247685188,"text":"4.DCL:Data Control Language\n数据控制语言，用来创建数据库用户、控制数据库的访问权限","layout":null},"children":[]}]},{"data":{"id":"d01mk3zqbio0","created":1711247350298,"text":"3.DDL-数据库、表操作","expandState":"collapse","layout":null},"children":[{"data":{"id":"d01rit6m7rc0","created":1711261353955,"text":"1.数据库操作","expandState":"expand","layout":null},"children":[{"data":{"id":"d01mt2tkxls0","created":1711248053027,"text":"1.查询","layout":null},"children":[{"data":{"id":"d01mtnve2aw0","created":1711248098848,"text":"1.查询所有数据库 SHOW DATABASES ;","layout":null},"children":[]},{"data":{"id":"d01mtwhqjbk0","created":1711248117614,"text":"2.查询当前数据库【（）里面不用写任何东西】：\nSELECT DATABASE();","layout":null},"children":[]}]},{"data":{"id":"d01mt3ilzc00","created":1711248054540,"text":"2.创建","layout":null},"children":[{"data":{"id":"d01muzs8pjc0","created":1711248203144,"text":"CREATE DATABASE[IF NOT EXISTS]数据库名[DEFAULT CHARSET字符集][COLLATE 排序规则];","layout":null},"children":[]},{"data":{"id":"d01mx6knjh40","created":1711248374651,"text":"例子：创建SJK数据库：Create database if not exists  sjk  default charset utf8mb4","layout":null},"children":[]}]},{"data":{"id":"d01mt42ud200","created":1711248055763,"text":"3.删除","layout":null},"children":[{"data":{"id":"d01mvf8ox7k0","created":1711248236790,"text":"DROP DATABASE[IF EXISTS]数据库名  (if exists 如果存在这个数据库)","layout":null},"children":[]}]},{"data":{"id":"d01mt4le3t40","created":1711248056885,"text":"4.使用","layout":null},"children":[{"data":{"id":"d01mvk4fvy80","created":1711248247417,"text":"USE 数据库名;","layout":null},"children":[]}]}]},{"data":{"id":"d01rjrt1jw80","created":1711261429322,"text":"2.表操作","expandState":"expand","layout":null},"children":[{"data":{"id":"d01rk2880q80","created":1711261452007,"text":"1.查询","layout":null},"children":[{"data":{"id":"d01rkdreuhs0","created":1711261477112,"text":"查询当前数据库所有表\nSHOW TABLES;","layout":null},"children":[]},{"data":{"id":"d01rkebipsw0","created":1711261478328,"text":"查询表结构\nDESC 表名;","layout":null},"children":[]},{"data":{"id":"d01rkeyw0400","created":1711261479741,"text":"查询指定表的建表语句\nSHOW CREATE TABLE 表名","layout":null},"children":[]}]},{"data":{"id":"d01rk2lmwjc0","created":1711261452818,"text":"2.创建","expandState":"expand","layout":null},"children":[{"data":{"id":"d01rmumirkg0","created":1711261670550,"text":"CREATE TABLE 表名(\n字段1字段1类型JCOMMENT 字段1注释]，\n字段2 字段2类型[COMMENT 字段2注释],\n字段3 字段3类型[COMMENT 字段3注释],\n字段n 字段n类型 [COMMENT 字段n注释 ]\n)[COMMENT 表注释];","layout":null},"children":[]},{"data":{"id":"d01roncfyaw0","created":1711261811431,"text":"create table tb_user id int comment '编号' name varchar(50) comment'姓名”age int comment'年龄   gender varchar(l)oament '性別”）comment用户","layout":null},"children":[]}]},{"data":{"id":"d01rqrgy0iw0","created":1711261977139,"text":"3.数据类型","layout":null},"children":[{"data":{"id":"d01rr1ba6zk0","created":1711261998565,"text":"数值类型","layout":null},"children":[]},{"data":{"id":"d01rr1zhlhc0","created":1711262000028,"text":"字符串类型","layout":null},"children":[]},{"data":{"id":"d01rr2dzx800","created":1711262000906,"text":"日期时间类型","layout":null},"children":[]}]},{"data":{"id":"d01rt6iaxyw0","created":1711262166601,"text":"4.修改操作","layout":null},"children":[{"data":{"id":"d01rtjd1x680","created":1711262194582,"text":"1.添加字段 ：ALTER TABLE 表名 ADD 字段名 类型(长度)[COMMENT 注释][约束];\n例子：alter table emp nikename varchar(50) comment '昵称';","layout":null},"children":[]},{"data":{"id":"d01rw7urkzs0","created":1711262404624,"text":"2.修改数据类型：ALTER TABLE 表名 MODIFY 字段名 新数据类型 (长度);","layout":null},"children":[]},{"data":{"id":"d01rw8goo6w0","created":1711262405950,"text":"3.修改字段名和字段类型：ALTER TABLE 表名 CHANGE I日字段名 新字段名 类型 (长度)[COMMENT注释][约束];\n例子：将emp表的nickname字段修改为username，类型为varchar(30)---alter table emp change nickname username varchar(30) comment '用户名';","layout":null},"children":[]},{"data":{"id":"d01s2d72vlc0","created":1711262886438,"text":"4.修改表名：ALTER TABLE 表名 RENAME TO 新表名；\n例子：alter table emp rename to employee;","layout":null},"children":[]}]},{"data":{"id":"d01s0uagspc0","created":1711262766919,"text":"5.删除","layout":null},"children":[{"data":{"id":"d01s4gemxpc0","created":1711263050153,"text":"删除字段： ALTER TABLE 表名 DROP 字段名\n例子：ALTER TABLE emp DROp username,","layout":null},"children":[]},{"data":{"id":"d01s4qsf7s00","created":1711263072755,"text":"删除表","layout":null},"children":[{"data":{"id":"d01s50x5xhs0","created":1711263094809,"text":"删除表：DROP TABLE[IF EXISTS]表名)；","layout":null},"children":[]},{"data":{"id":"d01s5j5ad140","created":1711263134482,"text":"删除指定表，并重新创建该表：TRUNCATE TABLE 表名;","layout":null},"children":[]}]}]}]}]},{"data":{"id":"d01ri4wjy3c0","created":1711261301104,"text":"4.DML--Data Manipulation Language(数据操作语言)，\n用来对数据库中表的数据记录进行增删改操作","layout":null,"expandState":"collapse"},"children":[{"data":{"id":"d01seloibio0","created":1711263845276,"text":"1.插入","layout":null,"expandState":"collapse"},"children":[{"data":{"id":"d01sfg3oiw00","created":1711263911497,"text":"1.给指定字段添加数据\nINSERT INTO 表名 (字段名1,字段名2,.) VALUES(值1,值2,….);","layout":null},"children":[]},{"data":{"id":"d01sfvzxkqo0","created":1711263946098,"text":"2.给全部字段添加数据\nINSERT INTO 表名 VALUES (值1,值2,..);","layout":null},"children":[]},{"data":{"id":"d01sgf1p1pc0","created":1711263987564,"text":"3.批量插入","layout":null},"children":[{"data":{"id":"d01sgsppq0o0","created":1711264017314,"text":"给指定字段：INSERT INTO 表名 (字段名1,字段名2,..) VALUES(值1,值2,.),(值1,值2,….),(值1,值2,);","layout":null},"children":[]},{"data":{"id":"d01sgy4xvc00","created":1711264029119,"text":"给所有字段：INSERT INTO 表名 VALUES (值1,值2,..),(值1,值2,…),(值1,值2,….);","layout":null},"children":[]}]}]},{"data":{"id":"d01sem50o800","created":1711263846274,"text":"2.修改更新","layout":null},"children":[{"data":{"id":"d01sioyb9m00","created":1711264165856,"text":"UPDATE 表名 SET 字段名1=值1,字段名2=值2,…[WHERE 条件];","layout":null},"children":[]}]},{"data":{"id":"d01semkpyq00","created":1711263847223,"text":"3.删除数据","layout":null},"children":[{"data":{"id":"d01sjd3x1c80","created":1711264218437,"text":"DELETE FROM 表名[WHERE 条件]","layout":null},"children":[]}]}]},{"data":{"id":"d01mkc98d940","created":1711247368287,"text":"5.DQL--Data Query Language(数据查询语言)，\n数据查询语言,用来查询数据库中表的记录","layout":null,"expandState":"expand"},"children":[{"data":{"id":"d01sv2n1j3c0","created":1711265136019,"text":"2.基础查询","layout":null,"expandState":"expand"},"children":[{"data":{"id":"d01t0djwlsw0","created":1711265551595,"text":"查询多个字段","layout":null},"children":[{"data":{"id":"d01t0j72vxk0","created":1711265563880,"text":"SELECT 字段1,字段2,字段3.. FROM 表名;","layout":null},"children":[]},{"data":{"id":"d01t0oovxdk0","created":1711265575841,"text":"SELECT*FROM 表名;","layout":null},"children":[]}]},{"data":{"id":"d01t0eah3u00","created":1711265553201,"text":"设置别名","layout":null},"children":[{"data":{"id":"d01t0xqmjk00","created":1711265595537,"text":"SELECT 字段1[AS 别名1],字段2[A5 别名2]....FROM 表名","layout":null},"children":[]}]},{"data":{"id":"d01t1ne24280","created":1711265651373,"text":"去除重复记录","layout":null},"children":[{"data":{"id":"d01t1xazc3s0","created":1711265672955,"text":"SELECT DISTINCT,字段列表 FROM 表名","layout":null},"children":[]}]}]},{"data":{"id":"d01sycx019c0","created":1711265393481,"text":"6.排序查询order by","layout":null,"expandState":"collapse"},"children":[{"data":{"id":"d01uz63zw0w0","created":1711271099251,"text":"1.语法-SELECT 字段列表 FROM 表名 ORDER BY 字段1 排序方式1,字段2 排序方式2","layout":null},"children":[]},{"data":{"id":"d01v07xsvzk0","created":1711271181594,"text":"2.排序方式","layout":null},"children":[{"data":{"id":"d01v0dgs64w0","created":1711271193626,"text":"1.ASC 升序 （默认值）","layout":null},"children":[]},{"data":{"id":"d01v0drmrew0","created":1711271194282,"text":"2.DESC 降序","layout":null},"children":[]}]},{"data":{"id":"d01v0tpdfbc0","created":1711271228974,"text":"3.注意 ：如果是多字段，当第一个字段值相同时，才会根据第二个字段进行排序","layout":null},"children":[]}]},{"data":{"id":"d01svk3zmc80","created":1711265174049,"text":"7.分页查询-limit","layout":null,"expandState":"collapse"},"children":[{"data":{"id":"d01v491bdns0","created":1711271497440,"text":"1.语法-SELECT 字段列表 FROM 表名 LMIT 起始索引,查询记录数:\n例子：查询第1页员工数据-每页展示10条记录：select *from emp limit 0,10:\n查询第2页员工数据，(页码-1)*页展示记录数每页展示10条记录-------->（页码-1）*页展示记录数：select *from emp limit 10,10;","layout":null},"children":[]},{"data":{"id":"d01v4bhn4l40","created":1711271502781,"text":"2.注意事项\n（1）起始索引从0开始，起始索引=(查询页码-1)*每页显示记录数。\n（2）分页查询是数据库的方言，不同的数据库有不同的实现，MSQL中是LiMIT。\n（3）如果查询的是第一页数据，起始索引可以省略，直接简写为limit 10。","layout":null},"children":[]}]},{"data":{"id":"d01svghack00","created":1711265166146,"text":"3.条件查询-where","layout":null,"expandState":"collapse"},"children":[{"data":{"id":"d01t2y0j9000","created":1711265752864,"text":"语法：SELECT 字段列表 FROM 表名 WHERE 条件列表;","layout":null},"children":[]},{"data":{"id":"d01t2yjtaps0","created":1711265754030,"text":"条件","layout":null},"children":[{"data":{"id":"d01t3hhq2ao0","created":1711265795262,"text":"比较运算符","layout":null},"children":[{"data":{"id":"d01t83rnuf40","created":1711266157209,"text":"1.> 大于\n2.>= 大于等于\n3.<  小于\n4.<= 小于等于\n5.= 等于\n6.<>或！=  不等于\n7.between ...and... 在某个范围之间\n8.in（.....）在in之后的列表中的值，多选一 例子：select * from emp where age in(18,20,40):\n9.like 占位符  模糊匹配  （匹配单个字符，%匹配任意个字符）\n10.is null  是null","layout":null},"children":[]}]},{"data":{"id":"d01t3hstkv40","created":1711265795933,"text":"逻辑运算符","layout":null},"children":[{"data":{"id":"d01tb0q4y8w0","created":1711266385679,"text":"1.and 或&&  并且（多个条件同时成立）\n2.or 或||  或者（多个条件任意一个成立）\n3.not或！ 非，不是","layout":null},"children":[]}]}]}]},{"data":{"id":"d01svgw1zk80","created":1711265167039,"text":"4.聚合函数\ncount、max、min、avg、sum","layout":null,"expandState":"collapse"},"children":[{"data":{"id":"d01tkemanbs0","created":1711267121199,"text":"语法：SELECT 聚合函数(字段列表)  FROM 表名；\n注意：null值不参与聚合函数运算","layout":null},"children":[{"data":{"id":"d01tn100xhs0","created":1711267326647,"text":"select count（*）from emp;\nselect count (id) from emp;","layout":null},"children":[]},{"data":{"id":"d01tnqk7ols0","created":1711267382287,"text":"select avg(age) from emp;","layout":null},"children":[]},{"data":{"id":"d01tpe3o9rk0","created":1711267511894,"text":"select max(age) from emp;","layout":null},"children":[]},{"data":{"id":"d01tpn9g1tc0","created":1711267531834,"text":"select sum(sge) from emp where workaddress ='xian'","layout":null},"children":[]}]}]},{"data":{"id":"d01svkrvth40","created":1711265175494,"text":"5.分组查询 -group by","layout":null,"expandState":"collapse"},"children":[{"data":{"id":"d01tr5c0mcg0","created":1711267649536,"text":"1.语法：SELECT 字段列表 FROM 表名[WHERE 条件]GROUP BY 分组字段名[HAVING 分组后过滤条件];\n例子：select gender,count(*) from emp group by gende；","layout":null},"children":[]},{"data":{"id":"d01trhwyl6o0","created":1711267676924,"text":"2.where和havin的区别","layout":null},"children":[{"data":{"id":"d01trwf5log0","created":1711267708499,"text":"1.执行时机不同:where是分组之前进行过滤，不满足where条件，不参与分组;而having是分组之后对结果进行过滤。","layout":null},"children":[]},{"data":{"id":"d01trwqw04o0","created":1711267709208,"text":"2.判断条件不同:where不能对聚合函数进行判断，而having可以。","layout":null},"children":[]},{"data":{"id":"d01tw6d51zc0","created":1711268043601,"text":"例子：查询年龄小于45的员工，并根据工作地址分组大于等于3的工作地址\nselect workaddress, count(*)from emp where age < 45 group by workaddress having count（*）>=3；","layout":null},"children":[]}]},{"data":{"id":"d01tz1pm7800","created":1711268268564,"text":"3.注意事项","layout":null},"children":[{"data":{"id":"d01tz6inqww0","created":1711268279028,"text":"1.执行顺序: where > 聚合函数>having。","layout":null},"children":[]},{"data":{"id":"d01tz6xn5qw0","created":1711268279934,"text":"2.分组之后，查查询的字段一般为聚合函数和分组字段，查询其他字段无任何意义","layout":null},"children":[]}]}]},{"data":{"id":"d01sz8f03so0","created":1711265462050,"text":"1.语法结构","expandState":"collapse","layout":null},"children":[{"data":{"id":"d01swlbzcg80","created":1711265255073,"text":"SELECT\n字段列表\nFROM\n表名列表\nWHERE\n条件列表\nGROUP BY\n分组字段列表\nHAVING\n分组后条件列表ORDER BY\n排序字段列表\nUMIT\n分页参数","layout":null},"children":[]}]},{"data":{"id":"d01v9e9cnew0","created":1711271900631,"text":"8..执行顺序","expandState":"collapse","layout":null},"children":[{"data":{"id":"d01v9mpuii80","created":1711271919042,"text":"1.from","layout":null},"children":[]},{"data":{"id":"d01v9ptvq3k0","created":1711271925817,"text":"2.where","layout":null},"children":[]},{"data":{"id":"d01va73e7oo0","created":1711271963397,"text":"3.group by ","layout":null},"children":[]},{"data":{"id":"d01vabom8ag0","created":1711271973388,"text":"4.having","layout":null},"children":[]},{"data":{"id":"d01vafw3zk00","created":1711271982548,"text":"5.select ","layout":null},"children":[]},{"data":{"id":"d01vau2x2jk0","created":1711272013434,"text":"6.order by","layout":null},"children":[]},{"data":{"id":"d01vaz397tc0","created":1711272024339,"text":"7.limit","layout":null},"children":[]}]}]},{"data":{"id":"d01mkcm4geo0","created":1711247369066,"text":"6.DCL  Data ControlLanguage(数据控制语言)\n用来管理数据库用户、控制数据库的访问 权限","layout":null,"expandState":"collapse"},"children":[{"data":{"id":"d01voppbyn40","created":1711273101004,"text":"1.用户管理","expandState":"expand","layout":null},"children":[{"data":{"id":"d01vkhagr3c0","created":1711272769234,"text":"1.查询用户\nuse mysql;\nselect * from user；","layout":null},"children":[]},{"data":{"id":"d01vkhl2ofk0","created":1711272769876,"text":"2.创建用户\nCREATE USER'用户名'@'主机名’IDENTIFIED BY '密码'","layout":null},"children":[]},{"data":{"id":"d01vkhydcmg0","created":1711272770680,"text":"3.修改用户密码\nALTER USER'用户名'@'主机名’IDENTIFIED WTH mysql_native_password BY'新密码”","layout":null},"children":[]},{"data":{"id":"d01vkimqtio0","created":1711272772153,"text":"4.删除用户\nDROP USER'用户名'@'主机名';","layout":null},"children":[]}]},{"data":{"id":"d01vrstwlc00","created":1711273342903,"text":"2.权限控制","layout":null,"expandState":"expand"},"children":[{"data":{"id":"d01vse6gevs0","created":1711273389376,"text":"1.常用权限","layout":null},"children":[{"data":{"id":"d01vsqm81z40","created":1711273416449,"text":"all,all privileges    所有权限","layout":null},"children":[]},{"data":{"id":"d01vt49ven40","created":1711273446178,"text":"增、删、查、改、创数据库表、删数据库表权限","layout":null},"children":[]}]},{"data":{"id":"d01vu8njd6w0","created":1711273534075,"text":"2.语法","layout":null},"children":[{"data":{"id":"d01vui0e1fc0","created":1711273554443,"text":"1.查询权限\nSHOW GRANTS FOR'用户名'@'主机名';\nshow grants for 'heima'@'%';","layout":null},"children":[]},{"data":{"id":"d01vuna0mtk0","created":1711273565909,"text":"2.授予权限\nGRANT 权限列表 ON 数据库名.表名 TO'用户名'@'主机名'\ngrant all on itcast.*  to  'heima'@'%';","layout":null},"children":[]},{"data":{"id":"d01vunp1bjk0","created":1711273566818,"text":"3.撤销权限\nREVOKE 权限列表 ON 数据库名.表名 FROM'用户名'@'主机名”\nrevoke all on itcast.* from \"heima'@'%;","layout":null},"children":[]}]}]}]}]},{"data":{"id":"d01lwxesds80","created":1711245533595,"text":"3.函数","layout":null,"priority":3,"expandState":"collapse"},"children":[{"data":{"id":"d01w12i74gw0","created":1711274069241,"text":"1.定义 \n函数：是值一段可以直接被另一程序调用的程序或代码","layout":null},"children":[]},{"data":{"id":"d01w007lxhc0","created":1711273985883,"text":"2.字符串函数","layout":null,"expandState":"collapse"},"children":[{"data":{"id":"d01w2496n3s0","created":1711274151413,"text":"1.CONCAT(s1,s2,....,sn)\n字符串拼接，将S1,S2,,,,SN拼接成一个字符串\nselect concat('Hello',\"MySQL');","layout":null},"children":[]},{"data":{"id":"d01w24kne8w0","created":1711274152107,"text":"2.LOWER(str)\n将字符串str全部转为小写\nselect lower('Hello');","layout":null},"children":[]},{"data":{"id":"d01w25sgasg0","created":1711274154755,"text":"3.UPPER(str)\n将字符串str全部转为大写\nselect upper('Hello');","layout":null},"children":[]},{"data":{"id":"d01w266r94o0","created":1711274155620,"text":"4.LPAD(str,n,pad)\n左填充，用字符串pad对str的左边进行填充，达到n个字符串长度\nselect lpad('01'，5,'-');   结果：---01","layout":null},"children":[]},{"data":{"id":"d01w29jvfx40","created":1711274162944,"text":"5.RPAD(str,n,pad)\n右填充，用字符串pad对str的右边进行填充，达到n个字符串长度\nselect Rpad('01'，5,'-');   结果：01--","layout":null},"children":[]},{"data":{"id":"d01w29xxs6o0","created":1711274163794,"text":"6.TRIM(str)\n去掉字符串头部和尾部的空格(中间的空不去除)\nselect trim('Hello MySQL);","layout":null},"children":[]},{"data":{"id":"d01w4u031400","created":1711274364188,"text":"7.SUBSTRING(str,start,len)\n返回从字符串str从start位置起的len个长度的字符串\nselect substring('Hello MySQL',1,5)； 结果；HELLO","layout":null},"children":[]}]},{"data":{"id":"d01w00k5t1k0","created":1711273986642,"text":"3.数值函数","layout":null,"expandState":"collapse"},"children":[{"data":{"id":"d01w97ja0k00","created":1711274707103,"text":"1.CEIL(X)\n向上取整\nselect ceil(1.5);  结果：2","layout":null},"children":[]},{"data":{"id":"d01w97tgwe80","created":1711274707720,"text":"2.FLOOR(X)\n相下取整|\nselect floor(1.9);  结果：1","layout":null},"children":[]},{"data":{"id":"d01w984e3i80","created":1711274708380,"text":"3.MOD(X,Y)\n返回X/Y的值\nselect mod(7,4) ；结果：3","layout":null},"children":[]},{"data":{"id":"d01w98f3bmo0","created":1711274709027,"text":"4.RAND()\n返回0~1内的随机数\nselect rand();","layout":null},"children":[]},{"data":{"id":"d01w98ql2a80","created":1711274709722,"text":"5.ROUND(X,Y)\n求参数X的四舍五入的值，保留Y位小数\nselect round(2.344,2);","layout":null},"children":[]},{"data":{"id":"d01wll079js0","created":1711275676795,"text":"select Ipad(round(rand()*1000000，0)，6，\"') 结果：764441  生产一个6位数的随机验证码","layout":null},"children":[]}]},{"data":{"id":"d01w01dnl7k0","created":1711273988425,"text":"4.日期函数","layout":null,"expandState":"collapse"},"children":[{"data":{"id":"d01wm9cr4o80","created":1711275729796,"text":"1.curdate()\n返回当前日期\nselect curdate();","layout":null},"children":[]},{"data":{"id":"d01wm9nlcu00","created":1711275730452,"text":"2.curtime()\n返回当前时间\nselect curtime();","layout":null},"children":[]},{"data":{"id":"d01wm9ytihk0","created":1711275731131,"text":"3.now()\n返回当前日期和时间\nselect now();","layout":null},"children":[]},{"data":{"id":"d01wmatn7xc0","created":1711275732995,"text":"4.year（date）\n获取指定date的年份\nselect year(now());","layout":null},"children":[]},{"data":{"id":"d01wmb4u9ds0","created":1711275733672,"text":"5.month(date)\n获取指定date的月份","layout":null},"children":[]},{"data":{"id":"d01wmbir6zk0","created":1711275734513,"text":"6.day(date)\n获取指定date的日期","layout":null},"children":[]},{"data":{"id":"d01wq2jiqr40","created":1711276028425,"text":"7.date add(date,interval exprtype)返回一个日期/时间值加上一个时间间隔expr后的时间值\nseLect date_add(nOw(),INTERVAL 7O MONTH ); 目前时间往后推70个月","layout":null},"children":[]},{"data":{"id":"d01wrgxhsdk0","created":1711276138109,"text":"8.datediff(date1.d a te2返回起始时间date1和结束时间date2之前的天数\nselect datediff('2021-12-01'，'2021-11-01'); 结果：30","layout":null},"children":[]},{"data":{"id":"d01wx6w32w00","created":1711276586441,"text":"案例：查询所有员工的入职天数，并根据入职天数倒序提序\nselect name,datediff(curdate().entrydate) as 'entrydays' from emp order by entrydays;","layout":null},"children":[]}]},{"data":{"id":"d01w0l755940","created":1711274031567,"text":"5.流程函数","layout":null,"expandState":"expand"},"children":[{"data":{"id":"d01wyp38ahc0","created":1711276704419,"text":"1.if(value,t,f)\n如果结果为true,则返回t,否则返回f\nselect if(false, 'ok', 'Error');","layout":null},"children":[]},{"data":{"id":"d01wypvdi1s0","created":1711276706121,"text":"2.ifnull(value1,value2)\n如果value1不为空，返回value1，否则返回value2\nselect ifnull ('0k',\"Default');","layout":null},"children":[]},{"data":{"id":"d01wyqu0nag0","created":1711276708216,"text":"3.CASE WHEN [val1 ] THEN [res1] ... ELSE [ default ] END\n如果val1为true，返回res1，…否则返回default默认值\n需求:查询emp表的员工姓名和工作地址(北京/上海---->一线城市，其他---->二线城市)\nselect name,\n(case workaddress when '北京’ then '一线城市’ when '上海'  then '一线城市' else '二线城市' end ) as '工作地址’\nfrom emp;","layout":null},"children":[]},{"data":{"id":"d01wyr6uw940","created":1711276708992,"text":"4.CASE [ expr ] WHÃN [val1 ] THEN [res1] ... ELSE [ default ] END\n如果expr的值等于val1，返回res1，…否则返回default默认值","layout":null},"children":[]}]}]},{"data":{"id":"d01m0nhu0u80","created":1711245825468,"text":"5.多表查询","layout":null,"priority":5,"expandState":"collapse"},"children":[{"data":{"id":"d07rd4nttqw0","created":1711870268495,"text":"多表关系","expandState":"collapse","layout":null},"children":[{"data":{"id":"d07reu4y7ow0","created":1711870402315,"text":"项目开发中，在进行数据库表结构设计时，\n会根据业务需求及业务模块之间的关系，分析并设计表结构，由于业务之间相互关联，\n所以各个表结构之间也存在着各种联系，基本上分为三种:","layout":null},"children":[]},{"data":{"id":"d07reueghog0","created":1711870402889,"text":"一对多（多对一）","layout":null},"children":[{"data":{"id":"d07rqafipao0","created":1711871299788,"text":"案例：部门与员工的关系\n实现：在多的一方建立外键，指向一的一方的主键","layout":null},"children":[]}]},{"data":{"id":"d07reupjnrk0","created":1711870403560,"text":"多对多","layout":null},"children":[{"data":{"id":"d07rqvjdh7s0","created":1711871345733,"text":"案例：学生与课程的关系\n实现：建立第三张中间表，中间表至少包含2个外键，分别关联两方主键","layout":null},"children":[]}]},{"data":{"id":"d07reuz7tww0","created":1711870404144,"text":"一对一","layout":null},"children":[{"data":{"id":"d07ru0la1080","created":1711871591825,"text":"案例：用户与用户详情的关系\n实现：在任意一方加入外键，关联另外一方的主机那，并且设置外键为唯一的(UNIQUE)","layout":null},"children":[]}]}]},{"data":{"id":"d07rd4ybpyo0","created":1711870269130,"text":"多表查询概述","expandState":"expand","layout":null},"children":[{"data":{"id":"d07rz79wwp40","created":1711871998196,"text":"概述：指从多张表中查询数据","layout":null},"children":[]},{"data":{"id":"d07rzrn2le80","created":1711872042527,"text":"笛卡尔积：笛卡尔乘积是指在数学中，两个集合A集合 和 B集合的所有组合情况。\n(在多表查询时，需要消除无效的笛卡尔积)","layout":null},"children":[]},{"data":{"id":"d07s2a1hrc00","created":1711872239310,"text":"多表查询分类","layout":null},"children":[{"data":{"id":"d07s2e29z340","created":1711872248064,"text":"连接查询","layout":null},"children":[{"data":{"id":"d07s2ncyzds0","created":1711872268302,"text":"内连接：相当于查询A\\B交集部分数据","layout":null},"children":[]},{"data":{"id":"d07s2nxvmd40","created":1711872269566,"text":"外连接","layout":null},"children":[{"data":{"id":"d07s3axzjew0","created":1711872319638,"text":"左外连接：查询左表所有数据，以及两张表交集部分数据","layout":null},"children":[]},{"data":{"id":"d07s3bdcywg0","created":1711872320568,"text":"右外连接：查询右表所有数据，以及两张表 交集部分数据","layout":null},"children":[]}]},{"data":{"id":"d07s2p1ju2g0","created":1711872271965,"text":"自连接：当前表与自身的连接查询，自连接必须使用表别名","layout":null},"children":[]}]},{"data":{"id":"d07s2ed3djc0","created":1711872248718,"text":"子查询","layout":null},"children":[]}]}]},{"data":{"id":"d07rd57zqjk0","created":1711870269714,"text":"内连接：相当于查询A\\B交集部分数据","expandState":"collapse","layout":null},"children":[{"data":{"id":"d07s67dxcfk0","created":1711872546988,"text":"隐式内连接","layout":null},"children":[{"data":{"id":"d07s6klvork0","created":1711872575767,"text":"SELECT 字段列表 FROM 表1,表2 WHERE 条件.....；","layout":null},"children":[]},{"data":{"id":"d07s7t5hy5c0","created":1711872672731,"text":"例子：查询每一个员工的姓名，发关联的部门的名称(隐式内连接实现)\nselect enp.name , dept.name from emp , dept where cmp.dept_id = dept.id ;\n加别名写法:select e.name ,d.name fron emp e, dept d where e.dept_id = d.id;","layout":null},"children":[]}]},{"data":{"id":"d07s68aujgg0","created":1711872548978,"text":"显示内连接","layout":null},"children":[{"data":{"id":"d07s6kwbcso0","created":1711872576398,"text":"SELECT 字段列表 FROM 表1 [INNER]JOIN 表2 ON 连接条件…;","layout":null},"children":[]},{"data":{"id":"d07savkec7s0","created":1711872913078,"text":"例子：查询每一个员工的姓名，发关联的部门的名称(显式内连接实现)\nselect e.name, d,name from emp e inner join dept d on e.dept_id = d.id;","layout":null},"children":[]}]}]},{"data":{"id":"d07rd5p95ew0","created":1711870270758,"text":"外连接","expandState":"collapse","layout":null},"children":[{"data":{"id":"d07scxj8x5k0","created":1711873074091,"text":"左外连接","expandState":"expand","layout":null},"children":[{"data":{"id":"d07sd4vk54g0","created":1711873090073,"text":"SELECT 字段列表 FROM 表1 LEFT[OUTER]JOIN 表2 ON 条件 .......；","layout":null},"children":[]},{"data":{"id":"d07sfamqu7c0","created":1711873259329,"text":"例子：查论emp表的所有数据，和对应的部门信息(左外连接)\nselect e.*, d,name from emp e left join dept d on e.dept_id = d,id;","layout":null},"children":[]}]},{"data":{"id":"d07scxxtdmw0","created":1711873074972,"text":"右外连接","layout":null},"children":[{"data":{"id":"d07sd4vk54g0","created":1711873090073,"text":"SELECT 字段列表 FROM 表1 RIGHT[OUTER]JOIN 表2 ON 条件 .......；","layout":null},"children":[]},{"data":{"id":"d07sgn78h3s0","created":1711873365053,"text":"例子：查论emp表的所有数据，和对应的部门信息(右外连接)\nselect d.*,e.* from emp e right  join dept d on e.dept id = d.id;","layout":null},"children":[]}]}]},{"data":{"id":"d07rd64cwnk0","created":1711870271672,"text":"自连接","expandState":"collapse","layout":null},"children":[{"data":{"id":"d07si8mq8ps0","created":1711873490067,"text":"SELECT 字段列表  FROM 表A 别名A JOIN 表A 别名B ON 条件","layout":null},"children":[]},{"data":{"id":"d07siwcyly80","created":1711873541719,"text":"例子：查询员工及其 所属领导的名\nselect a.name ,b.name from emp a ，emp b where a.nanagerid = b.id;","layout":null},"children":[]},{"data":{"id":"d07six7muq80","created":1711873543573,"text":"查淘所有员工emp 及其领导的名字，如果员工没有领导，也需要查询出来\nselect a,name  '员工', b.nane '领导’fron emp a left join emp b on a.managerid = b.id;","layout":null},"children":[]}]},{"data":{"id":"d07rd7r7r9c0","created":1711870275230,"text":"子查询","expandState":"collapse","layout":null},"children":[{"data":{"id":"d07t1jd7mkg0","created":1711875002355,"text":"概念：SQL语句中嵌套SELECT语句，称为嵌套查询，又称子查询，","layout":null},"children":[]},{"data":{"id":"d07t1wpqf680","created":1711875031410,"text":"SELECT \"FROM tI WHERE columnl=(SELECT column] FROM t2 );\n子查询外部的语句可以是INSERT/UPDATE/DELETE/SELECT的任何一个","layout":null},"children":[]},{"data":{"id":"d07t2fdpyzs0","created":1711875072043,"text":"根据查询结果不同，分为四类","expandState":"collapse","layout":null},"children":[{"data":{"id":"d07t2osged40","created":1711875092525,"text":"标量子查询(子查询结果为单个值)","layout":null},"children":[{"data":{"id":"d07t7blwhpc0","created":1711875455651,"text":"子查询返回的结果是单个值(数字、字符串、日期等)，最简单的形式，这种子查询成为标量子查询","layout":null},"children":[]},{"data":{"id":"d07t7tw72dk0","created":1711875495456,"text":"常用的操作符:    =   <>   >   >=    <   <=","layout":null},"children":[]},{"data":{"id":"d07ta0ienj40","created":1711875666588,"text":"例子：查询“销售部”的所有员工信息\na.查询销售部的部门ID  select id from dept where name ='销售部';\nb.根据部门ID，查询员工信息 select *from emp where dept id = 4;\n最后组合\nselect * from emp where dept_id = (select id from dept where name ='销售部');","layout":null},"children":[]}]},{"data":{"id":"d07t2p8bqds0","created":1711875093484,"text":"列子查询(子查询结果为一列) ","layout":null},"children":[{"data":{"id":"d07tdwh1kqg0","created":1711875971255,"text":"子查询返回的结果是一列(可以是多行)，这种子查询称为列子查询","layout":null},"children":[]},{"data":{"id":"d07te2yrm1s0","created":1711875985387,"text":"常用的操作符:IN、NOT IN、ANY、SOME、ALL","layout":null},"children":[{"data":{"id":"d07teh6v7740","created":1711876016352,"text":"IN:在指定的集合范围之内，多选一","layout":null},"children":[]},{"data":{"id":"d07tehiy1ts0","created":1711876017082,"text":"not in: 不在指定的集合范围之内","layout":null},"children":[]},{"data":{"id":"d07teht5lq00","created":1711876017699,"text":"any: 子查询返回列表中，任意一个满足即可","layout":null},"children":[]},{"data":{"id":"d07teizhcww0","created":1711876020259,"text":"some: 与any等同，使用some 的地方都可以使用any","layout":null},"children":[]},{"data":{"id":"d07tej9tj9k0","created":1711876020884,"text":"all: 子查询返回列表的所有值都必须满足","layout":null},"children":[]}]},{"data":{"id":"d07tsb6f5t40","created":1711877100362,"text":"例子：查询“销售部”和“市场部”的所有员工信息\na查询“销售部”和“市场部\"的部门ID:\nselect id from dept where name ='售部'or name ='市场部';\nb根据部门ID，查询员工信息\nselect *from emp where dept id in(2,4);\n合并：select * from emp where dept_id in (select id from dept where name ='销吿部'or name ='市场部');","layout":null},"children":[]}]},{"data":{"id":"d07t2piwk0w0","created":1711875094124,"text":"行子查询(子查询结果为一行)","layout":null},"children":[{"data":{"id":"d07tui790go0","created":1711877272378,"text":"子查询返回的结果是一行(可以是多列)，这种子查询称为行子查询","layout":null},"children":[]},{"data":{"id":"d07tuqrkea00","created":1711877291021,"text":"常用的操作符:=、<>、IN、NOTIN","layout":null},"children":[]},{"data":{"id":"d07tuygznkg0","created":1711877307796,"text":"例子：查询与“张无忌”的薪资及直属领导相同的员工信息\na查询“张无忌”的薪资及直属领导  select salary,managerid from emp where name ='张无忌';\nb查询与“张无忌”的薪资及直属领导相同的员工信息  select * from emp where(salary,managerid)=(12500,1);\n合并：select * from emp where (salary,managerid)=（select salary, managerid from emp where name ='张无忌');","layout":null},"children":[]}]},{"data":{"id":"d07t2pvahi80","created":1711875094873,"text":"表子查询(子查询结果为多行多列","layout":null},"children":[{"data":{"id":"d07txsna0ps0","created":1711877530208,"text":"子查询返回的结果是多行多列，这种子查询称为表子查询","layout":null},"children":[]},{"data":{"id":"d07txt2s9ko0","created":1711877531145,"text":"常用的操作符:IN","layout":null},"children":[]},{"data":{"id":"d07ty2m0k4g0","created":1711877551899,"text":"1.查询与“鹿仗客\",\"宋远桥”前职位和薪资相同的员工信息\na.查询\"鹿仗客”，\"宋远桥”的职位和薪资  select job, salary from emp where name ='鹿杖客'or name ='宋远桥'\nb、查询与“鹿杖客”“宋远桥”的职位和薪资相同的员工信息 \n select * from emp where (iob,salary) in (select job,salary from emp where name='鹿杖客\"or name ='宋远桥')","layout":null},"children":[]}]}]}]},{"data":{"id":"d07rd84u9mw0","created":1711870276054,"text":"多表查询案例","expandState":"collapse","layout":null},"children":[{"data":{"id":"d07u3kz9ocg0","created":1711877983704,"text":"1.查询员工的姓名、年龄、职位、部门信息\nselect e.name ,e.age ,e.job , d.name from emp e , dept d where e.dept_id = d.id;","layout":null},"children":[]},{"data":{"id":"d07u3l9cvhc0","created":1711877984314,"text":"2.查询年龄小于30岁的员工姓名、年龄、职位、部门信息\nselect e.name e.age e.job  d.name from emp e inner join dept d on e.dept_id = d.id where e.age < 30;","layout":null},"children":[]},{"data":{"id":"d07u3lhly3s0","created":1711877984813,"text":"3.查询拥有员工的部门ID、部门名称。\nselect distinct d.id,d.name from emp e , dept d where e.dept_id = d.id;","layout":null},"children":[]},{"data":{"id":"d07u3lsn7s00","created":1711877985480,"text":"4.查询所有年龄大于40岁的员工,及其归属的部门名称; 如果员工没有分配部门,也需要展示出来\nselect e.*, d.name from emp e left join dept d on e.dept id = d.id where e.age > 40 ;","layout":null},"children":[]},{"data":{"id":"d07u3m27oe80","created":1711877986058,"text":"5.查询所有员工的工资等级\nselect e.*，s.grade ,s.losal ,s.hisal  from emp e salgrade s where e.salary between s.losal and s.hisal;","layout":null},"children":[]},{"data":{"id":"d07u3mbr3g80","created":1711877986635,"text":"6.查询\"研发部\"所有员工的信息及工资等级\nselect e.* ,s.grade from emp e ,dept d,salgrade s where e.dept_id=d.id and (e.salary between s.losal and s.hisal )and d.name ='研发部';","layout":null},"children":[]},{"data":{"id":"d07u3mljwgg0","created":1711877987228,"text":"7.查询\"研发部\"员工的平均工资。\nselect avg(e.salary) from emp e, dept d where e.dept id = d.id and d.name ='研发部';","layout":null},"children":[]},{"data":{"id":"d07u3muen5c0","created":1711877987763,"text":"8.查询工资比\"灭绝\"高的员工信息\nselect * from emp where salary >( select salary from emp where name ='灭绝');","layout":null},"children":[]},{"data":{"id":"d07u3n3eqa00","created":1711877988308,"text":"9.查询比平均薪资高的员工信息\nselect * from emp where salary >( select avg(salary)from emp );","layout":null},"children":[]},{"data":{"id":"d07u3ncy9so0","created":1711877988885,"text":"10.查询低于本部门平均工资的员工信息\nselect * from emp e2 where e2.salary<(select avg (e1.salary) from emp e1 where e1.dept_id= e2.dept_1d","layout":null},"children":[]},{"data":{"id":"d07u3nmjr0w0","created":1711877989465,"text":"11.查询所有的部门信息,并统计部门的员工人数\nselect d.id，d.name, (select count(*) from emp e where e.dept_id=d.id)'人数’ from dept d ;","layout":null},"children":[]},{"data":{"id":"d07u3o0x0680","created":1711877990334,"text":"12.查询所有学生的选课情况,展示出学生名称,学号,课程名称\nselect s.name,s.no,c.name  from student s,student_course sc ,course c where  s.id =sc.studentid and sc.courseid=c.id;","layout":null},"children":[]}]},{"data":{"id":"d07svphlzs00","created":1711874545497,"text":"联合查询:对于union查询，\n就是把多次查询的结果合并起来，形成一个新的查询结果集，","expandState":"collapse","layout":null},"children":[{"data":{"id":"d07sw94k2yo0","created":1711874588243,"text":"SELECT 字段列表 FROM 表A\nUNION [ ALL ]\nSELECT 字段列表 FROM 表B","layout":null},"children":[]},{"data":{"id":"d07swyzmzpc0","created":1711874644542,"text":"薪资低于 5000 的员工年龄大子 50 岁的员工全部查论出来（分2部，然后中间加UNION all）\nselect *from emp where salary < 5000\nunion all\nselect * from emp where age > 50","layout":null},"children":[]},{"data":{"id":"d07t0o9w4hc0","created":1711874934674,"text":"对于联合查询的多张表的列数必须保持一致，字段类型也需要保持一致。\nunion all 会将全部的数据直接合并在一起，union 会对合并之后的数据去重","layout":null},"children":[]}]}]},{"data":{"id":"d01m0rs938g0","created":1711245834805,"text":"6.事务","layout":null,"priority":6,"expandState":"collapse"},"children":[{"data":{"id":"d021u5tlhsw0","created":1711290454571,"text":"1.事务简介","layout":null},"children":[{"data":{"id":"d021vfzw2ag0","created":1711290555083,"text":"事务 是一组操作的集合，它是一个不可分割的工作单位，事务会把所有的操作作为一个整体一起向系统提交或撤销操作请求，\n即这些操作要么同时成功，要么同时失败。","layout":null},"children":[]}]},{"data":{"id":"d021u659syw0","created":1711290455277,"text":"2.事务操作","layout":null},"children":[{"data":{"id":"d02u35xzkgw0","created":1711370151191,"text":"1.查看/设置事务提交方式\nSELECT @@autocommit ;\nSET @@autocommit=0;  0手动提交，1自动提交","layout":null},"children":[]},{"data":{"id":"d02u36azhcw0","created":1711370151977,"text":"2.提交事务\ncommit;","layout":null},"children":[]},{"data":{"id":"d02u36q98cg0","created":1711370152900,"text":"3.回滚事务\nrollback;","layout":null},"children":[]}]},{"data":{"id":"d021u6h5g9s0","created":1711290455995,"text":"3.事务四大特性(ACID)","layout":null},"children":[{"data":{"id":"d02ud12wijc0","created":1711370924246,"text":"1.原子性(Atomicity):事务是不可分割的最小操作单元，要么全部成功，要么全部失败，","layout":null},"children":[]},{"data":{"id":"d02ud1ik40w0","created":1711370925193,"text":"2.一致性(Consistency):事务完成时，必须使所有的数据都保持一致状态","layout":null},"children":[]},{"data":{"id":"d02ud1tpqqo0","created":1711370925867,"text":"3.隔离性(lsolation):数据库系统提供的隔离机制，保证事务在不受外部并发操作影响的独立环境下运行。","layout":null},"children":[]},{"data":{"id":"d02ud25re0w0","created":1711370926596,"text":"4.持久性(Durability):事务一旦提交或回滚，它对数据库中的数据的改变就是永久的。","layout":null},"children":[]}]},{"data":{"id":"d021u6u104o0","created":1711290456774,"text":"4.并发事务问题","layout":null},"children":[{"data":{"id":"d02uhwqjdwo0","created":1711371306612,"text":"1.脏读:一个事务读到另外一个事务还没有提交的数据。","layout":null},"children":[]},{"data":{"id":"d02uhx1c2n40","created":1711371307265,"text":"2.不可重复读:一个事务先后读取同一条记录，但两次读取的数据不同，称之为不可重复读","layout":null},"children":[]},{"data":{"id":"d02uhxctsg00","created":1711371307960,"text":"3.幻读:个事务按照条件查询数据时，没有对应的数据行，但是在插入数据时，又发现这行数据已经存在，好像出现了幻影”。","layout":null},"children":[]}]},{"data":{"id":"d021u75w0k80","created":1711290457491,"text":"5.事务隔离级别(解决并非事务问题)","layout":null},"children":[{"data":{"id":"d02unsz785k0","created":1711371768615,"text":"read uncommitted\n三个问题都会出现","layout":null},"children":[]},{"data":{"id":"d02uosbmyww0","created":1711371845553,"text":"read  committed\n脏读不会，不可重复读和幻读会出现","layout":null},"children":[]},{"data":{"id":"d02uosp0cmg0","created":1711371846362,"text":"repeatable read(默认)\n脏读和不可重复读不会出现，幻读会","layout":null},"children":[]},{"data":{"id":"d02uot1xvko0","created":1711371847144,"text":"serializable\n全部不会出现（性能最高）","layout":null},"children":[]},{"data":{"id":"d02utufz2qo0","created":1711372241990,"text":"语法","layout":null},"children":[{"data":{"id":"d02utwfqhk80","created":1711372246329,"text":"查看事务隔离级别\nSELECT @@TRANSACTION_ISOLATION;","layout":null},"children":[]},{"data":{"id":"d02utwqteb40","created":1711372246999,"text":"设置事务隔离级别\nSET [SESSION GLOBAL] TRANSACTION LEVEL {READ UNCOMMITTED | READ COMMITTED | SERIALIZABLE};\n例子：set session transaction isolation level read uncommitted ;","layout":null},"children":[]}]},{"data":{"id":"d02v61em4i00","created":1711373197515,"text":"注意：事务隔离级别最高，数据越安全，但是性能越低","layout":null},"children":[]}]}]},{"data":{"id":"d01lx8xkrj40","created":1711245558676,"text":"4.约束","layout":null,"priority":4,"expandState":"collapse"},"children":[{"data":{"id":"d020bsctz5c0","created":1711286193594,"text":"1.概述","expandState":"collapse","layout":null},"children":[{"data":{"id":"d020ck8hoeg0","created":1711286254281,"text":"概念：约束是作用于表中字段上的规则，用于限制存储在表中的数据。","layout":null},"children":[]},{"data":{"id":"d020dgfcjdk0","created":1711286324353,"text":"目的：保证数据库中数据的正确、有效性和完整性，","layout":null},"children":[]},{"data":{"id":"d020ds4js1k0","created":1711286349821,"text":"分类","layout":null},"children":[{"data":{"id":"d020dvsuk800","created":1711286357821,"text":"1.非空约束 NOT NULL\n限制该字段的数据不能为NULL","layout":null},"children":[]},{"data":{"id":"d020dw4ihrk0","created":1711286358526,"text":"2.唯一约束 UNIQUE\n保证该字段的所有数据都是唯一、不重复的","layout":null},"children":[]},{"data":{"id":"d020dwfxrzk0","created":1711286359217,"text":"3.主键约束 PRIMARY KEY\n主键是一行数据的唯一标识，要求非空且第一","layout":null},"children":[]},{"data":{"id":"d020dylghyg0","created":1711286363905,"text":"4.默认约束  DEFAULT\n保持数据时，如果未指定该字段的值，则采用默认值","layout":null},"children":[]},{"data":{"id":"d020dyx1y4w0","created":1711286364606,"text":"5.检查约束  CHECK\n保证字段值满足某一个条件","layout":null},"children":[]},{"data":{"id":"d020e19omsg0","created":1711286369723,"text":"6.外键约束 FOREIGN KEY\n用来让两张表的数据之间建立联系，保证数据的一致性和完整性","layout":null},"children":[]}]}]},{"data":{"id":"d020bsut99s0","created":1711286194681,"text":"2.约束演示","image":"","imageTitle":"","imageSize":"","expandState":"collapse","layout":null},"children":[{"data":{"id":"d020ptev6zc0","created":1711287292992,"text":"create table user(\nid int primary key auto_increment comment'主键',\nname varchar(10)not null unique comment'姓名',\nage int check(age>0&& age <=120)comment'年龄',\nstatus char(1) default'1' comment'状态',\ngender char(1) comment'性别'\n）comment'用户表'；","layout":null},"children":[]},{"data":{"id":"d020qwp6imw0","created":1711287378510,"text":"例子：需求，创建表，id主键，并且自动增长，\nname 不为空，并且唯一，age 年龄 大于0小于120，status 状态  如果没有指定值 默认为1， gender 性别 无","layout":null},"children":[]}]},{"data":{"id":"d020bt66nqo0","created":1711286195369,"text":"3.外键约束","expandState":"collapse","layout":null},"children":[{"data":{"id":"d020svozgyg0","created":1711287533050,"text":"概念：外键用来让两张表的数据之间建立连接，从而保证数据的一致性和完整性","layout":null},"children":[]},{"data":{"id":"d020trqbbu80","created":1711287602787,"text":"外键删除更新行为","layout":null},"children":[{"data":{"id":"d021l140kbc0","created":1711289739039,"text":"NO ACTION   \n当在父表中删除/更新对应记录时，首先检查该记录是否有对应外键，如果有则不允许删除/更新。(与RESTRICT一致)","layout":null},"children":[]},{"data":{"id":"d021l1f9ye80","created":1711289739720,"text":"RESTRIC  \n当在父表中删除/更新对应记录时，首先检查该记录是否有对应外键，如果有则不允许删除/更新。(与NOACTION一致)","layout":null},"children":[]},{"data":{"id":"d021l1ymud40","created":1711289740891,"text":"CASCADE\n当在父表中删除/更新对应记录时，首先检查该记录是否有对应外键，如果有，则也删除/更新外键在子表中的记录。","layout":null},"children":[]},{"data":{"id":"d021l9dk9gg0","created":1711289757031,"text":"SET NULL\n当在父表中删除对应记录时，首先检查该记录是否有对应外键，如果有则设置子表中该外键值为ul(这就要求该外键允许取nul)","layout":null},"children":[]},{"data":{"id":"d021l9se8vs0","created":1711289757928,"text":"SET DEFAULT\n父表有变更时，子表将外键列设置成一个默认的值(innodb不支持)","layout":null},"children":[]},{"data":{"id":"d021n7dtuwo0","created":1711289909422,"text":"语法\nALTER TABLE 表名 ADD CONSTRAINT 外键名称 FOREIGN KEY (外键字段)REFERENCES 主表名(主表字段名)ON UPDATE CASCADE ON DELETE CASCADE,","layout":null},"children":[]}]},{"data":{"id":"d020wnbsh880","created":1711287828295,"text":"语法","expandState":"expand","layout":null},"children":[{"data":{"id":"d020wqgb1600","created":1711287835098,"text":"添加外键1 创建表的时候直接添加\nCREATE TABLE 表名(\n字段名 数据类型\n[CONSTRAINT][外键名称]FOREIGN KEY(外键字段名)REFERENCES 主表(主表列名)","layout":null},"children":[]},{"data":{"id":"d020wrq4dr40","created":1711287837868,"text":"添加外键2 表已经建好的情况，加入外键\nALTER TABLE 表名 ADD CONSTRAINT 外键名称 FOREIGN KEY(外键字段名) REFERENCES 主表(主表列名);\nalter table emp add constraint fk_emp_dept_id foreign key (dept _id) references dept(id);","layout":null},"children":[]},{"data":{"id":"d021fopji540","created":1711289320222,"text":"外键删除\nALTER TABLE 表名 DROP FOREIGN KEY 外键名称","layout":null},"children":[]}]}]}]}]},"template":"right","theme":"fresh-blue","version":"1.4.43"}